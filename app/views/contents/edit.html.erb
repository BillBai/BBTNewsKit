<div class="page-header">
  <h3> Edit <%= @content.content_type %> <%= @content.id %></h3>
</div>

<div class="row">
  <div class="col-md-12">
    <%= render partial: 'form' , locals: {content_type: @content.content_type}%>
  </div>
</div>

    <% case  @content.content_type %>
    <% when 'article' %>
        <div id="editor-container">
          <div class="editable">
            <%=raw @content.body_html %>
          </div>
        </div>
    <% when 'album' %>
        <h2>Add photo</h2>
        <%= render 'photos/form' %>

    <% when 'video' %>
    <% end %>



<%= link_to 'Back', content_path(@content) %>



<script>
<% case  @content.content_type %>
<% when 'article'%>
        var editor = new MediumEditor('.editable', {
            elementsContainer: document.getElementById('editor-container'),
            buttonLabels: 'fontawesome',
            buttons:['bold', 'italic', 'underline', 'anchor', 'header1', 'header2', 'quote', 'image']
        });

        $(function () {
            $('.editable').mediumInsert({
                editor: editor,
                addons: {
                    images: {
                        imagesDeleteScript: '/article_body_image/delete',
                        imagesUploadScript: '/contents/<%= @content.id %>/article_body_images'
                    }
                }
            });
        });

        $("#content_submit_button").click(function() {
            var allContents = editor.serialize();
            var elContent = allContents["element-0"].value;
            $("#content_body_html").val(elContent);
        });
<% when 'album' %>

<% when 'video' %>
<% end %>
</script>


